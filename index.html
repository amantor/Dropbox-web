
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dropbox Pre-built components</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs"
            data-app-key="3v8ynb65oz6l8z1"></script>
    <style>
        #chooser-demo {
            height: 100px;
            font-size: 24px;
        }
    </style>
</head>
<body>
<section class="section">
    <div class="container">
        <h1 class="title has-text-primary">File selector</h1>

        <div class="tile is-ancestor">
            <div class="tile is-parent">
                <article class="tile is-child box">
                    <h2 class="title"><a href="https://www.dropbox.com/developers/chooser">Chooser</a></h2>
                    <p class="subtitle">The Chooser is the fastest way to get files from Dropbox into your web, Android, or iOS app. It's a small component that enables your app to get files from Dropbox without having to worry about the complexities of implementing a file browser, authentication, or managing uploads and storage.</p>
                    <div id="chooser-demo"></div>
                    <article class="message is-success" id="selected-link">
                        <div class="message-header">
                            <p>Success: Selected Link</p>
                        </div>
                        <div class="message-body">
                            <a href="" id="link"></a>
                        </div>
                    </article>
                </article>

            </div>

        </div>

    </div>

</section>

<script>

    let selectedLink = document.getElementById("selected-link");
    selectedLink.style.display = "none";
    options = {
        success: function(files) {
            selectedLink.style.display = "block";
            let link = document.getElementById('link');
            link.innerHTML = files[0].link;
            link.href = files[0].link;
        },
        cancel: function() {
            selectedLink.style.display = "none";
            alert("Canceled")
        },
        linkType: "preview",
        multiselect: false, 
        extensions: ['.pdf', '.doc', '.docx', '.png'],
        folderselect: false,
    };

    var button = Dropbox.createChooseButton(options);
    document.getElementById("chooser-demo").appendChild(button);

</script>
</body>
</html>